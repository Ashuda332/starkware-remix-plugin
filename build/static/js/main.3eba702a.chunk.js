(this["webpackJsonpremix-plugin"]=this["webpackJsonpremix-plugin"]||[]).push([[0],{214:function(e,t){},223:function(e,t){},224:function(e,t){},264:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n.n(r),a=n(89),o=n.n(a),s=n(31),i=n(3),l=n(0),u=n.n(l),d=n(90),p=n(46),j=n(91),b=n(13),h="\n// Right click on the script name and hit \"Run\" to execute\n(async () => {\n    try {\n        console.log('deploy to starknet...')\n        const compiledCairoContract = await remix.call('fileManager', 'readFile', 'compiled_cairo_artifacts/contract.json');\n        const compiledContract = starknet.json.parse(compiledCairoContract);\n        \n        const provider = new starknet.Provider({\n          network: 'mainnet-alpha' // mainnet-alpha or goerli-alpha\n        })\n\n        const res = await provider.addTransaction({\n          type: 'DEPLOY',\n          contract_definition: compiledContract.contract_definition,\n          contract_address_salt: '".concat(Object(b.randomAddress)(),"',\n          constructor_calldata: []\n        })\n\n        //  const methodResponse = await callContract({\n        //    contract_address: res.address,\n        //    entry_point_selector: getSelectorFromName(\"YOUR_FUNCTION_NAME\"),\n        //    calldata: [\"1\"],\n        //  });\n\n        // const result = methodResponse.result[0];\n        // result contains the return value of the method you gave to callContract\n\n        console.log('Deployed contract address: ', res.address)\n        console.log('Deployment successful.')\n    } catch (e) {\n        console.log(e.message)\n    }\n})()\n"),O=(n(264),n(1)),f=function(e){var t=e.message;return Object(O.jsx)("div",{className:"cairoErrorBlob",children:Object(O.jsx)("div",{className:"cairoError alertDanger",children:Object(O.jsx)("pre",{children:Object(O.jsx)("span",{children:t})})})})},m=(n(266),Object(d.createClient)(new p.PluginClient)),x="./scripts/deploy.js",v=["cairo"];var g=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),o=Object(i.a)(a,2),l=o[0],d=o[1],p=Object(r.useState)(!1),g=Object(i.a)(p,2),w=g[0],k=g[1],C=Object(r.useState)(!1),y=Object(i.a)(C,2),_=y[0],S=y[1],N=Object(r.useState)(void 0),E=Object(i.a)(N,2),F=E[0],D=E[1],R=Object(r.useState)(!1),M=Object(i.a)(R,2),P=M[0],T=M[1],A=Object(r.useState)(!1),J=Object(i.a)(A,2),Y=J[0],B=J[1],I=Object(r.useState)("mainnet-alpha"),K=Object(i.a)(I,2),L=K[0],U=K[1],z=Object(r.useState)(!1),W=Object(i.a)(z,2),q=W[0],G=W[1],H=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),c(null),T(!1),B(!1),D(void 0),d(null),e.prev=6,e.next=9,m.call("fileManager","getCurrentFile");case 9:t=e.sent,e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(6),B(!0),e.abrupt("return");case 16:if(n=t.split(".").pop()||"",v.includes(n)){e.next=20;break}return B(!0),e.abrupt("return");case 20:return e.next=22,m.call("fileManager","readFile",t);case 22:r=e.sent,G(!0),Q(r);case 25:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://2uuf49xjkk.execute-api.us-east-2.amazonaws.com/prod/cairo",{method:"POST",headers:{accept:"application/json"},body:JSON.stringify({action:"compile-contract",code:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,G(!1),!r.error){e.next=11;break}return d(r.error),e.abrupt("return");case 11:c(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.call("fileManager","writeFile","compiled_cairo_artifacts/contract.json",JSON.stringify(n));case 2:m.call("fileManager","writeFile",x,h).then((function(){return T(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return w?Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h4",{children:"Error while compiling"}),Object(O.jsx)("div",{role:"button",onClick:function(){return window.location.reload()},children:"Reload plugin"})]}):Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{role:"button",onClick:H,children:q?"Compiling...":"Compile current file"}),n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"networkSelect",children:[Object(O.jsx)("label",{children:"STARKNET NETWORK"}),Object(O.jsxs)("select",{value:L,onChange:function(e){return U(e.target.value)},children:[Object(O.jsx)("option",{value:"mainnet-alpha",children:"mainnet-alpha"}),Object(O.jsx)("option",{value:"goerli-alpha",children:"goerli-alpha"})]})]}),Object(O.jsx)("div",{role:"button",onClick:function(){n&&(S(!0),new j.Provider({network:L}).addTransaction({type:"DEPLOY",contract_definition:n.contract_definition,contract_address_salt:Object(b.randomAddress)(),constructor_calldata:[]}).then((function(e){S(!1),D(e.address)})).catch(k))},children:"Deploy"})]}):null,_?Object(O.jsx)("p",{children:"Deploying..."}):null,F&&!_?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Deployed contract address"}),Object(O.jsx)("p",{className:"contractAddress",children:F})]}):null,n?Object(O.jsx)("div",{role:"button",onClick:V,children:"Create deploy script"}):null,P?Object(O.jsxs)("p",{children:["Created script at ",x]}):null,Y?Object(O.jsx)("p",{children:"Please select file containing Cairo contract"}):null,l?Object(O.jsx)(f,{message:l}):null]})};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(g,{})}),document.getElementById("root"))}},[[267,1,2]]]);
//# sourceMappingURL=main.3eba702a.chunk.js.map